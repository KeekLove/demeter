{"remainingRequest":"C:\\Users\\ZJM\\Desktop\\cloudpanel\\node_modules\\_babel-loader@8.0.6@babel-loader\\lib\\index.js!C:\\Users\\ZJM\\Desktop\\cloudpanel\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ZJM\\Desktop\\cloudpanel\\node_modules\\_vue-loader@15.7.1@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ZJM\\Desktop\\cloudpanel\\src\\pages\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ZJM\\Desktop\\cloudpanel\\src\\pages\\Login.vue","mtime":1564075606945},{"path":"C:\\Users\\ZJM\\Desktop\\cloudpanel\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZJM\\Desktop\\cloudpanel\\node_modules\\_babel-loader@8.0.6@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ZJM\\Desktop\\cloudpanel\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZJM\\Desktop\\cloudpanel\\node_modules\\_vue-loader@15.7.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  methods: {\n    login: function login() {\n      var username = this.username;\n      var password = this.password;\n      var _store = this.$store;\n      var router = this.$router;\n      console.log(username);\n      console.log(password);\n\n      if (this.password != null || this.password != '') {\n        //start 设置以post方式传参时的参数\n        var params = new URLSearchParams();\n        params.append(\"username\", username);\n        params.append(\"password\", password); //end\n        //ajax请求\n\n        this.$axios.post(\"api/operationArea/login\", params).then(function (res) {\n          //以字符串方式存入账号到localStorage，并设置过期时间，取出时用JSON.parse()\n          var ONE_DAY = 86400000;\n          var time = new Date().getTime();\n          var account = {\n            \"username\": username,\n            \"password\": password,\n            \"expire\": new Date().setTime(time + ONE_DAY * 10)\n          };\n          window.localStorage.setItem(\"account\", JSON.stringify(account));\n          console.log(account); //往Vuex存入token\n\n          _store.commit('saveToken', res.data.token);\n\n          _store.commit('savePrivilege', res.data.privilege);\n\n          router.push(\"/dashboard\");\n        });\n      }\n    },\n    logOut: function logOut() {\n      window.localStorage.setItem(\"account\", null);\n      window.location.reload();\n    }\n  },\n  data: function data() {\n    return {\n      dataBackgroundColor: 'green',\n      username: null,\n      password: null\n    };\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,eAAA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,QAAA,GAAA,KAAA,QAAA;AACA,UAAA,QAAA,GAAA,KAAA,QAAA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA;AACA,UAAA,MAAA,GAAA,KAAA,OAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,UAAA,KAAA,QAAA,IAAA,IAAA,IAAA,KAAA,QAAA,IAAA,EAAA,EAAA;AACA;AACA,YAAA,MAAA,GAAA,IAAA,eAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,QAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,QAAA,EAJA,CAKA;AAEA;;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,yBAAA,EAAA,MAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,cAAA,OAAA,GAAA,QAAA;AACA,cAAA,IAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA;AACA,cAAA,OAAA,GAAA;AAAA,wBAAA,QAAA;AAAA,wBAAA,QAAA;AAAA,sBAAA,IAAA,IAAA,GAAA,OAAA,CAAA,IAAA,GAAA,OAAA,GAAA,EAAA;AAAA,WAAA;AACA,UAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,SAAA,EAAA,IAAA,CAAA,SAAA,CAAA,OAAA,CAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EANA,CAQA;;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA,GAAA,CAAA,IAAA,CAAA,SAAA;;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,YAAA;AACA,SAZA;AAaA;AACA,KA9BA;AA+BA,IAAA,MA/BA,oBA+BA;AACA,MAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,SAAA,EAAA,IAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA;AAlCA,GADA;AAqCA,EAAA,IArCA,kBAqCA;AACA,WAAA;AACA,MAAA,mBAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GA3CA;AA4CA,EAAA,OA5CA,qBA4CA,CACA;AA7CA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"md-layout\" style=\"margin: 0 auto;\">\n      <form class=\"md-layout-item md-size-50 md-small-size-100\" v-if=\"this.$store.state.token == null\">\n        <md-card>\n          <md-card-header :data-background-color=\"dataBackgroundColor\">\n            <h4 class=\"title\">Edit Profile</h4>\n            <p class=\"category\">Complete your profile</p>\n          </md-card-header>\n\n          <md-card-content>\n            <div class=\"md-layout\">\n              <div class=\"md-layout-item md-size-100\">\n                <md-field>\n                  <label>User Name</label>\n                  <md-input v-model=\"username\" type=\"text\"></md-input>\n                </md-field>\n              </div>\n              <div class=\"md-layout-item md-size-100\">\n                <md-field>\n                  <label>Password</label>\n                  <md-input v-model=\"password\" type=\"password\"></md-input>\n                </md-field>\n              </div>\n            </div>\n            <md-button class=\"md-success md-rised\" @click=\"login\">提交</md-button>\n          </md-card-content>\n        </md-card>\n      </form>\n      <md-button @click=\"logOut\" v-if=\"this.$store.state.token\">登出</md-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    login(){\n      const username = this.username;\n      const password = this.password;\n      const _store = this.$store\n      const router = this.$router;\n      console.log(username);\n      console.log(password);\n      if (this.password !=null || this.password!=''){\n        //start 设置以post方式传参时的参数\n        const params = new URLSearchParams;\n        params.append(\"username\",username);\n        params.append(\"password\",password);\n        //end\n\n        //ajax请求\n        this.$axios.post(\"api/operationArea/login\",params).then(res=>{\n          //以字符串方式存入账号到localStorage，并设置过期时间，取出时用JSON.parse()\n          const ONE_DAY = 86400000;\n          const time = new Date().getTime();\n          const account = {\"username\":username,\"password\":password,\"expire\":new Date().setTime(time+ONE_DAY*10)};\n          window.localStorage.setItem(\"account\",JSON.stringify(account))\n          console.log(account);\n\n          //往Vuex存入token\n          _store.commit('saveToken',res.data.token);\n          _store.commit('savePrivilege',res.data.privilege);\n          router.push(\"/dashboard\");\n        })\n      }\n    },\n    logOut(){\n      window.localStorage.setItem(\"account\",null);\n      window.location.reload();\n    }\n  },\n  data(){\n    return{\n      dataBackgroundColor:'green',\n      username:null,\n      password:null\n    };\n  },\n  mounted() {\n  }\n};\n</script>\n"],"sourceRoot":"src/pages"}]}